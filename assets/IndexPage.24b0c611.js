var Ql=Object.defineProperty,Ul=Object.defineProperties;var Xl=Object.getOwnPropertyDescriptors;var $t=Object.getOwnPropertySymbols;var Yl=Object.prototype.hasOwnProperty,Gl=Object.prototype.propertyIsEnumerable;var Kt=(e,l,a)=>l in e?Ql(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,$=(e,l)=>{for(var a in l||(l={}))Yl.call(l,a)&&Kt(e,a,l[a]);if($t)for(var a of $t(l))Gl.call(l,a)&&Kt(e,a,l[a]);return e},J=(e,l)=>Ul(e,Xl(l));import{f as ge,d as x,h as p,j as je,L as ut,M as Jl,N as rt,O as Zl,r as I,g as Ce,P as xt,R as de,s as en,S as Ct,U as nl,V as al,W as il,X as tn,Y as ln,Z as nn,_ as De,$ as an,a0 as on,a1 as un,a2 as Xe,n as we,a3 as et,w as ne,o as qt,l as Ve,a4 as yt,p as St,a5 as Dt,a6 as rn,z as sn,a7 as ol,a8 as ul,a9 as rl,aa as sl,ab as cl,ac as dl,ad as fl,ae as vl,af as cn,ag as Nt,ah as dn,ai as fn,aj as vn,v as ml,ak as mn,al as pt,am as hl,an as hn,m as gn,ao as yn,ap as Sn,aq as gl,ar as yl,as as bn,at as wn,au as jt,av as Qe,aw as Sl,ax as kn,ay as xn,az as Cn,aA as Ie,aB as Wt,aC as bl,B as qn,i as bt,q as pn,u as _n,t as Tn,aD as Vn,aE as En,aF as Fn,aG as Pn,aH as An,aI as Qt,aJ as Bn,C as On,E as _e,G as Ut,H as re,I as D,aK as $e,aL as Ae,e as le,Q as Ke,K as Te,aM as pe,aN as mt,c as Xt,aO as Hn,aP as zn,aQ as Ln,aR as Mn,F as Rn,aS as In}from"./index.6fdacbf7.js";import{u as $n}from"./vue-i18n.runtime.esm-bundler.f0da083f.js";var wl=ge({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const a=x(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>p("div",{class:a.value},je(l.default))}}),kl=ge({name:"QItem",props:J($($({},ut),Jl),{tag:{type:String,default:"div"},active:Boolean,clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean}),emits:["click","keyup"],setup(e,{slots:l,emit:a}){const{proxy:{$q:o}}=Ce(),f=rt(e,o),{hasRouterLink:u,hasLink:c,linkProps:v,linkClass:d,linkTag:y,navigateToRouterLink:g}=Zl(),V=I(null),F=I(null),r=x(()=>e.clickable===!0||c.value===!0||e.tag==="label"),_=x(()=>e.disable!==!0&&r.value===!0),C=x(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(f.value===!0?" q-item--dark":"")+(c.value===!0?d.value:e.active===!0?`${e.activeClass!==void 0?` ${e.activeClass}`:""} q-item--active`:"")+(e.disable===!0?" disabled":"")+(_.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),T=x(()=>{if(e.insetLevel===void 0)return null;const P=o.lang.rtl===!0?"Right":"Left";return{["padding"+P]:16+e.insetLevel*56+"px"}});function O(P){_.value===!0&&(F.value!==null&&(P.qKeyEvent!==!0&&document.activeElement===V.value?F.value.focus():document.activeElement===F.value&&V.value.focus()),u.value===!0&&g(P),a("click",P))}function A(P){if(_.value===!0&&xt(P,13)===!0){de(P),P.qKeyEvent=!0;const R=new MouseEvent("click",P);R.qKeyEvent=!0,V.value.dispatchEvent(R)}a("keyup",P)}function N(){const P=en(l.default,[]);return _.value===!0&&P.unshift(p("div",{class:"q-focus-helper",tabindex:-1,ref:F})),P}return()=>{const P={ref:V,class:C.value,style:T.value,onClick:O,onKeyup:A};return _.value===!0?(P.tabindex=e.tabindex||"0",Object.assign(P,v.value)):r.value===!0&&(P["aria-disabled"]="true"),p(y.value,P,N())}}}),Kn=ge({name:"QField",inheritAttrs:!1,props:Ct,emits:nl,setup(){return al(il())}});const Dn={xs:8,sm:10,md:14,lg:20,xl:24};var Nn=ge({name:"QChip",props:J($($({},ut),tn),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:a}){const{proxy:{$q:o}}=Ce(),f=rt(e,o),u=ln(e,Dn),c=x(()=>e.selected===!0||e.icon!==void 0),v=x(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),d=x(()=>e.iconRemove||o.iconSet.chip.remove),y=x(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),g=x(()=>{const T=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(T?` text-${T} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(y.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(f.value===!0?" q-chip--dark q-dark":"")}),V=x(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function F(T){T.keyCode===13&&r(T)}function r(T){e.disable||(a("update:selected",!e.selected),a("click",T))}function _(T){(T.keyCode===void 0||T.keyCode===13)&&(de(T),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function C(){const T=[];y.value===!0&&T.push(p("div",{class:"q-focus-helper"})),c.value===!0&&T.push(p(De,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const O=e.label!==void 0?[p("div",{class:"ellipsis"},[e.label])]:void 0;return T.push(p("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},an(l.default,O))),e.iconRight&&T.push(p(De,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&T.push(p(De,J($({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value},V.value),{onClick:_,onKeyup:_}))),T}return()=>{if(e.modelValue===!1)return;const T={class:g.value,style:u.value};return y.value===!0&&Object.assign(T,V.value,{onClick:r,onKeyup:F}),nn("div",T,C(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[on,e.ripple]])}}}),jn=ge({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const a=x(()=>parseInt(e.lines,10)),o=x(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),f=x(()=>e.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>p("div",{style:f.value,class:o.value},je(l.default))}});function wt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),un.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const xl={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Cl({showing:e,avoidEmit:l,configureAnchorEl:a}){const{props:o,proxy:f,emit:u}=Ce(),c=I(null);let v;function d(r){return c.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const y={};a===void 0&&(Object.assign(y,{hide(r){f.hide(r)},toggle(r){f.toggle(r),r.qAnchorHandled=!0},toggleKey(r){xt(r,13)===!0&&y.toggle(r)},contextClick(r){f.hide(r),Xe(r),we(()=>{f.show(r),r.qAnchorHandled=!0})},prevent:Xe,mobileTouch(r){if(y.mobileCleanup(r),d(r)!==!0)return;f.hide(r),c.value.classList.add("non-selectable");const _=r.target;et(y,"anchor",[[_,"touchmove","mobileCleanup","passive"],[_,"touchend","mobileCleanup","passive"],[_,"touchcancel","mobileCleanup","passive"],[c.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{f.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){c.value.classList.remove("non-selectable"),clearTimeout(v),e.value===!0&&r!==void 0&&wt()}}),a=function(r=o.contextMenu){if(o.noParentEvent===!0||c.value===null)return;let _;r===!0?f.$q.platform.is.mobile===!0?_=[[c.value,"touchstart","mobileTouch","passive"]]:_=[[c.value,"mousedown","hide","passive"],[c.value,"contextmenu","contextClick","notPassive"]]:_=[[c.value,"click","toggle","passive"],[c.value,"keyup","toggleKey","passive"]],et(y,"anchor",_)});function g(){yt(y,"anchor")}function V(r){for(c.value=r;c.value.classList.contains("q-anchor--skip");)c.value=c.value.parentNode;a()}function F(){if(o.target===!1||o.target==="")c.value=null;else if(o.target===!0)V(f.$el.parentNode);else{let r=o.target;if(typeof o.target=="string")try{r=document.querySelector(o.target)}catch{r=void 0}r!=null?(c.value=r.$el||r,a()):(c.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return ne(()=>o.contextMenu,r=>{c.value!==null&&(g(),a(r))}),ne(()=>o.target,()=>{c.value!==null&&g(),F()}),ne(()=>o.noParentEvent,r=>{c.value!==null&&(r===!0?g():a())}),qt(()=>{F(),l!==!0&&o.modelValue===!0&&c.value===null&&u("update:modelValue",!1)}),Ve(()=>{clearTimeout(v),g()}),{anchorEl:c,canShow:d,anchorEvents:y}}function ql(e,l){const a=I(null);let o;function f(v,d){const y=`${d!==void 0?"add":"remove"}EventListener`,g=d!==void 0?d:o;v!==window&&v[y]("scroll",g,St.passive),window[y]("scroll",g,St.passive),o=d}function u(){a.value!==null&&(f(a.value),a.value=null)}const c=ne(()=>e.noParentEvent,()=>{a.value!==null&&(u(),l())});return Ve(c),{localScrollTarget:a,unconfigureScrollTarget:u,changeScrollEvent:f}}let pl;const{notPassiveCapture:tt}=St,Be=[];function lt(e){clearTimeout(pl);const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let a=Dt.length-1;for(;a>=0;){const o=Dt[a].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;a--}for(let o=Be.length-1;o>=0;o--){const f=Be[o];if((f.anchorEl.value===null||f.anchorEl.value.contains(l)===!1)&&(l===document.body||f.innerRef.value!==null&&f.innerRef.value.contains(l)===!1))e.qClickOutside=!0,f.onClickOutside(e);else return}}function _l(e){Be.push(e),Be.length===1&&(document.addEventListener("mousedown",lt,tt),document.addEventListener("touchstart",lt,tt))}function nt(e){const l=Be.findIndex(a=>a===e);l>-1&&(Be.splice(l,1),Be.length===0&&(clearTimeout(pl),document.removeEventListener("mousedown",lt,tt),document.removeEventListener("touchstart",lt,tt)))}let Yt,Gt;function at(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Tl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const kt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{kt[`${e}#ltr`]=e,kt[`${e}#rtl`]=e});function it(e,l){const a=e.split(" ");return{vertical:a[0],horizontal:kt[`${a[1]}#${l===!0?"rtl":"ltr"}`]}}function Wn(e,l){let{top:a,left:o,right:f,bottom:u,width:c,height:v}=e.getBoundingClientRect();return l!==void 0&&(a-=l[1],o-=l[0],u+=l[1],f+=l[0],c+=l[0],v+=l[1]),{top:a,left:o,right:f,bottom:u,width:c,height:v,middle:o+(f-o)/2,center:a+(u-a)/2}}function Qn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Vl(e){if(rn.is.ios===!0&&window.visualViewport!==void 0){const v=document.body.style,{offsetLeft:d,offsetTop:y}=window.visualViewport;d!==Yt&&(v.setProperty("--q-pe-left",d+"px"),Yt=d),y!==Gt&&(v.setProperty("--q-pe-top",y+"px"),Gt=y)}let l;const{scrollLeft:a,scrollTop:o}=e.el;if(e.absoluteOffset===void 0)l=Wn(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:v,left:d}=e.anchorEl.getBoundingClientRect(),y=v+e.absoluteOffset.top,g=d+e.absoluteOffset.left;l={top:y,left:g,width:1,height:1,right:g+1,center:y,middle:g,bottom:y+1}}let f={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(f.minWidth=l.width+"px",e.cover===!0&&(f.minHeight=l.height+"px")),Object.assign(e.el.style,f);const u=Qn(e.el),c={top:l[e.anchorOrigin.vertical]-u[e.selfOrigin.vertical],left:l[e.anchorOrigin.horizontal]-u[e.selfOrigin.horizontal]};Un(c,l,u,e.anchorOrigin,e.selfOrigin),f={top:c.top+"px",left:c.left+"px"},c.maxHeight!==void 0&&(f.maxHeight=c.maxHeight+"px",l.height>c.maxHeight&&(f.minHeight=f.maxHeight)),c.maxWidth!==void 0&&(f.maxWidth=c.maxWidth+"px",l.width>c.maxWidth&&(f.minWidth=f.maxWidth)),Object.assign(e.el.style,f),e.el.scrollTop!==o&&(e.el.scrollTop=o),e.el.scrollLeft!==a&&(e.el.scrollLeft=a)}function Un(e,l,a,o,f){const u=a.bottom,c=a.right,v=sn(),d=window.innerHeight-v,y=document.body.clientWidth;if(e.top<0||e.top+u>d)if(f.vertical==="center")e.top=l[o.vertical]>d/2?Math.max(0,d-u):0,e.maxHeight=Math.min(u,d);else if(l[o.vertical]>d/2){const g=Math.min(d,o.vertical==="center"?l.center:o.vertical===f.vertical?l.bottom:l.top);e.maxHeight=Math.min(u,g),e.top=Math.max(0,g-u)}else e.top=Math.max(0,o.vertical==="center"?l.center:o.vertical===f.vertical?l.top:l.bottom),e.maxHeight=Math.min(u,d-e.top);if(e.left<0||e.left+c>y)if(e.maxWidth=Math.min(c,y),f.horizontal==="middle")e.left=l[o.horizontal]>y/2?Math.max(0,y-c):0;else if(l[o.horizontal]>y/2){const g=Math.min(y,o.horizontal==="middle"?l.middle:o.horizontal===f.horizontal?l.right:l.left);e.maxWidth=Math.min(c,g),e.left=Math.max(0,g-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?l.middle:o.horizontal===f.horizontal?l.left:l.right),e.maxWidth=Math.min(c,y-e.left)}var Xn=ge({name:"QMenu",inheritAttrs:!1,props:J($($($($({},xl),ol),ut),ul),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:at},self:{type:String,validator:at},offset:{type:Array,validator:Tl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...rl,"click","escape-key"],setup(e,{slots:l,emit:a,attrs:o}){let f=null,u,c,v;const d=Ce(),{proxy:y}=d,{$q:g}=y,V=I(null),F=I(!1),r=x(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),_=rt(e,g),{registerTick:C,removeTick:T}=sl(),{registerTimeout:O,removeTimeout:A}=cl(),{transition:N,transitionStyle:P}=dl(e,F),{localScrollTarget:R,changeScrollEvent:j,unconfigureScrollTarget:H}=ql(e,i),{anchorEl:E,canShow:Q}=Cl({showing:F}),{hide:L}=fl({showing:F,canShow:Q,handleShow:s,handleHide:n,hideOnRouteChange:r,processOnMount:!0}),{showPortal:X,hidePortal:te,renderPortal:me}=vl(d,V,z),fe={anchorEl:E,innerRef:V,onClickOutside(w){if(e.persistent!==!0&&F.value===!0)return L(w),(w.type==="touchstart"||w.target.classList.contains("q-dialog__backdrop"))&&de(w),!0}},he=x(()=>it(e.anchor||(e.cover===!0?"center middle":"bottom start"),g.lang.rtl)),ae=x(()=>e.cover===!0?he.value:it(e.self||"top start",g.lang.rtl)),se=x(()=>(e.square===!0?" q-menu--square":"")+(_.value===!0?" q-menu--dark q-dark":"")),ye=x(()=>e.autoClose===!0?{onClick:q}:{}),ce=x(()=>F.value===!0&&e.persistent!==!0);ne(ce,w=>{w===!0?(cn(b),_l(fe)):(Nt(b),nt(fe))});function ie(){hl(()=>{let w=V.value;w&&w.contains(document.activeElement)!==!0&&(w=w.querySelector("[autofocus], [data-autofocus]")||w,w.focus({preventScroll:!0}))})}function s(w){if(T(),A(),f=e.noRefocus===!1?document.activeElement:null,dn(h),X(),i(),u=void 0,w!==void 0&&(e.touchPosition||e.contextMenu)){const ve=fn(w);if(ve.left!==void 0){const{top:qe,left:Z}=E.value.getBoundingClientRect();u={left:ve.left-Z,top:ve.top-qe}}}c===void 0&&(c=ne(()=>g.screen.width+"|"+g.screen.height+"|"+e.self+"|"+e.anchor+"|"+g.lang.rtl,B)),e.noFocus!==!0&&document.activeElement.blur(),C(()=>{B(),e.noFocus!==!0&&ie()}),O(()=>{g.platform.is.ios===!0&&(v=e.autoClose,V.value.click()),B(),X(!0),a("show",w)},e.transitionDuration)}function n(w){T(),A(),te(),m(!0),f!==null&&(w===void 0||w.qClickOutside!==!0)&&(f.focus(),f=null),O(()=>{te(!0),a("hide",w)},e.transitionDuration)}function m(w){u=void 0,c!==void 0&&(c(),c=void 0),(w===!0||F.value===!0)&&(vn(h),H(),nt(fe),Nt(b)),w!==!0&&(f=null)}function i(){(E.value!==null||e.scrollTarget!==void 0)&&(R.value=ml(E.value,e.scrollTarget),j(R.value,B))}function q(w){v!==!0?(mn(y,w),a("click",w)):v=!1}function h(w){ce.value===!0&&e.noFocus!==!0&&hn(V.value,w.target)!==!0&&ie()}function b(w){a("escape-key"),L(w)}function B(){const w=V.value;w===null||E.value===null||Vl({el:w,offset:e.offset,anchorEl:E.value,anchorOrigin:he.value,selfOrigin:ae.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function z(){return p(pt,{name:N.value,appear:!0},()=>F.value===!0?p("div",$(J($({},o),{ref:V,tabindex:-1,class:["q-menu q-position-engine scroll"+se.value,o.class],style:[o.style,P.value]}),ye.value),je(l.default)):null)}return Ve(m),Object.assign(y,{focus:ie,updatePosition:B}),me}});let ot=!1;{const e=document.createElement("div"),l=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",l.style.width="1000px",l.style.height="1px",document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,ot=e.scrollLeft>=0,e.remove()}const ke=1e3,Yn=["start","center","end","start-force","center-force","end-force"],El=Array.prototype.filter,Gn=window.getComputedStyle(document.body).overflowAnchor===void 0?gn:function(e,l){requestAnimationFrame(()=>{if(e===void 0)return;const a=e.children||[];El.call(a,f=>f.dataset&&f.dataset.qVsAnchor!==void 0).forEach(f=>{delete f.dataset.qVsAnchor});const o=a[l];o&&o.dataset&&(o.dataset.qVsAnchor="")})};function Ne(e,l){return e+l}function ht(e,l,a,o,f,u,c,v){const d=e===window?document.scrollingElement||document.documentElement:e,y=f===!0?"offsetWidth":"offsetHeight",g={scrollStart:0,scrollViewSize:-c-v,scrollMaxSize:0,offsetStart:-c,offsetEnd:-v};if(f===!0?(e===window?(g.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,g.scrollViewSize+=document.documentElement.clientWidth):(g.scrollStart=d.scrollLeft,g.scrollViewSize+=d.clientWidth),g.scrollMaxSize=d.scrollWidth,u===!0&&(g.scrollStart=(ot===!0?g.scrollMaxSize-g.scrollViewSize:0)-g.scrollStart)):(e===window?(g.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,g.scrollViewSize+=document.documentElement.clientHeight):(g.scrollStart=d.scrollTop,g.scrollViewSize+=d.clientHeight),g.scrollMaxSize=d.scrollHeight),a!==null)for(let V=a.previousElementSibling;V!==null;V=V.previousElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(g.offsetStart+=V[y]);if(o!==null)for(let V=o.nextElementSibling;V!==null;V=V.nextElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(g.offsetEnd+=V[y]);if(l!==e){const V=d.getBoundingClientRect(),F=l.getBoundingClientRect();f===!0?(g.offsetStart+=F.left-V.left,g.offsetEnd-=F.width):(g.offsetStart+=F.top-V.top,g.offsetEnd-=F.height),e!==window&&(g.offsetStart+=g.scrollStart),g.offsetEnd+=g.scrollMaxSize-g.offsetStart}return g}function Jt(e,l,a,o){l==="end"&&(l=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(o===!0&&(l=(ot===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):a===!0?(o===!0&&(l=(ot===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Ue(e,l,a,o){if(a>=o)return 0;const f=l.length,u=Math.floor(a/ke),c=Math.floor((o-1)/ke)+1;let v=e.slice(u,c).reduce(Ne,0);return a%ke!==0&&(v-=l.slice(u*ke,a).reduce(Ne,0)),o%ke!==0&&o!==f&&(v-=l.slice(o,c*ke).reduce(Ne,0)),v}const Jn={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Zn=$({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},Jn);function ea({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:a,virtualScrollItemSizeComputed:o}){const f=Ce(),{props:u,emit:c,proxy:v}=f,{$q:d}=v;let y,g,V,F=[],r;const _=I(0),C=I(0),T=I({}),O=I(null),A=I(null),N=I(null),P=I({from:0,to:0}),R=x(()=>u.tableColspan!==void 0?u.tableColspan:100);o===void 0&&(o=x(()=>u.virtualScrollItemSize));const j=x(()=>o.value+";"+u.virtualScrollHorizontal),H=x(()=>j.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);ne(H,()=>{ae()}),ne(j,E);function E(){he(g,!0)}function Q(s){he(s===void 0?g:s)}function L(s,n){const m=l();if(m==null||m.nodeType===8)return;const i=ht(m,a(),O.value,A.value,u.virtualScrollHorizontal,d.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);V!==i.scrollViewSize&&ae(i.scrollViewSize),te(m,i,Math.min(e.value-1,Math.max(0,parseInt(s,10)||0)),0,Yn.indexOf(n)>-1?n:g>-1&&s>g?"end":"start")}function X(){const s=l();if(s==null||s.nodeType===8)return;const n=ht(s,a(),O.value,A.value,u.virtualScrollHorizontal,d.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),m=e.value-1,i=n.scrollMaxSize-n.offsetStart-n.offsetEnd-C.value;if(y===n.scrollStart)return;if(n.scrollMaxSize<=0){te(s,n,0,0);return}V!==n.scrollViewSize&&ae(n.scrollViewSize),me(P.value.from);const q=Math.floor(n.scrollMaxSize-Math.max(n.scrollViewSize,n.offsetEnd)-Math.min(r[m],n.scrollViewSize/2));if(q>0&&Math.ceil(n.scrollStart)>=q){te(s,n,m,n.scrollMaxSize-n.offsetEnd-F.reduce(Ne,0));return}let h=0,b=n.scrollStart-n.offsetStart,B=b;if(b<=i&&b+n.scrollViewSize>=_.value)b-=_.value,h=P.value.from,B=b;else for(let z=0;b>=F[z]&&h<m;z++)b-=F[z],h+=ke;for(;b>0&&h<m;)b-=r[h],b>-n.scrollViewSize?(h++,B=b):B=r[h]+b;te(s,n,h,B)}function te(s,n,m,i,q){const h=typeof q=="string"&&q.indexOf("-force")>-1,b=h===!0?q.replace("-force",""):q,B=b!==void 0?b:"start";let z=Math.max(0,m-T.value[B]),w=z+T.value.total;w>e.value&&(w=e.value,z=Math.max(0,w-T.value.total)),y=n.scrollStart;const ve=z!==P.value.from||w!==P.value.to;if(ve===!1&&b===void 0){ye(m);return}const{activeElement:qe}=document,Z=N.value;ve===!0&&Z!==null&&Z!==qe&&Z.contains(qe)===!0&&(Z.addEventListener("focusout",fe),setTimeout(()=>{Z!==void 0&&Z.removeEventListener("focusout",fe)})),Gn(Z,m-z);const Ee=b!==void 0?r.slice(z,m).reduce(Ne,0):0;if(ve===!0){const Se=w>=P.value.from&&z<=P.value.to?P.value.to:w;P.value={from:z,to:Se},_.value=Ue(F,r,0,z),C.value=Ue(F,r,w,e.value),requestAnimationFrame(()=>{P.value.to!==w&&y===n.scrollStart&&(P.value={from:P.value.from,to:w},C.value=Ue(F,r,w,e.value))})}requestAnimationFrame(()=>{if(y!==n.scrollStart)return;ve===!0&&me(z);const Se=r.slice(z,m).reduce(Ne,0),xe=Se+n.offsetStart+_.value,be=xe+r[m];let K=xe+i;if(b!==void 0){const Y=Se-Ee,ee=n.scrollStart+Y;K=h!==!0&&ee<xe&&be<ee+n.scrollViewSize?ee:b==="end"?be-n.scrollViewSize:xe-(b==="start"?0:Math.round((n.scrollViewSize-r[m])/2))}y=K,Jt(s,K,u.virtualScrollHorizontal,d.lang.rtl),ye(m)})}function me(s){const n=N.value;if(n){const m=El.call(n.children,z=>z.classList&&z.classList.contains("q-virtual-scroll--skip")===!1),i=m.length,q=u.virtualScrollHorizontal===!0?z=>z.getBoundingClientRect().width:z=>z.offsetHeight;let h=s,b,B;for(let z=0;z<i;){for(b=q(m[z]),z++;z<i&&m[z].classList.contains("q-virtual-scroll--with-prev")===!0;)b+=q(m[z]),z++;B=b-r[h],B!==0&&(r[h]+=B,F[Math.floor(h/ke)]+=B),h++}}}function fe(){N.value!==void 0&&N.value.focus()}function he(s,n){const m=1*o.value;(n===!0||Array.isArray(r)===!1)&&(r=[]);const i=r.length;r.length=e.value;for(let h=e.value-1;h>=i;h--)r[h]=m;const q=Math.floor((e.value-1)/ke);F=[];for(let h=0;h<=q;h++){let b=0;const B=Math.min((h+1)*ke,e.value);for(let z=h*ke;z<B;z++)b+=r[z];F.push(b)}g=-1,y=void 0,_.value=Ue(F,r,0,P.value.from),C.value=Ue(F,r,P.value.to,e.value),s>=0?(me(P.value.from),we(()=>{L(s)})):ce()}function ae(s){if(s===void 0&&typeof window!="undefined"){const b=l();b!=null&&b.nodeType!==8&&(s=ht(b,a(),O.value,A.value,u.virtualScrollHorizontal,d.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}V=s;const n=parseFloat(u.virtualScrollSliceRatioBefore)||0,m=parseFloat(u.virtualScrollSliceRatioAfter)||0,i=1+n+m,q=s===void 0||s<=0?1:Math.ceil(s/o.value),h=Math.max(1,q,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/i));T.value={total:Math.ceil(h*i),start:Math.ceil(h*n),center:Math.ceil(h*(.5+n)),end:Math.ceil(h*(1+n)),view:q}}function se(s,n){const m=u.virtualScrollHorizontal===!0?"width":"height",i={["--q-virtual-scroll-item-"+m]:o.value+"px"};return[s==="tbody"?p(s,{class:"q-virtual-scroll__padding",key:"before",ref:O},[p("tr",[p("td",{style:$({[m]:`${_.value}px`},i),colspan:R.value})])]):p(s,{class:"q-virtual-scroll__padding",key:"before",ref:O,style:$({[m]:`${_.value}px`},i)}),p(s,{class:"q-virtual-scroll__content",key:"content",ref:N,tabindex:-1},n.flat()),s==="tbody"?p(s,{class:"q-virtual-scroll__padding",key:"after",ref:A},[p("tr",[p("td",{style:$({[m]:`${C.value}px`},i),colspan:R.value})])]):p(s,{class:"q-virtual-scroll__padding",key:"after",ref:A,style:$({[m]:`${C.value}px`},i)})]}function ye(s){g!==s&&(u.onVirtualScroll!==void 0&&c("virtual-scroll",{index:s,from:P.value.from,to:P.value.to-1,direction:s<g?"decrease":"increase",ref:v}),g=s)}ae();const ce=yn(X,d.platform.is.ios===!0?120:35);Sn(()=>{ae()});let ie=!1;return gl(()=>{ie=!0}),yl(()=>{if(ie!==!0)return;const s=l();y!==void 0&&s!==void 0&&s!==null&&s.nodeType!==8?Jt(s,y,u.virtualScrollHorizontal,d.lang.rtl):L(g)}),Ve(()=>{ce.cancel()}),Object.assign(v,{scrollTo:L,reset:E,refresh:Q}),{virtualScrollSliceRange:P,virtualScrollSliceSizeComputed:T,setVirtualScrollSize:ae,onVirtualScrollEvt:ce,localResetVirtualScroll:he,padVirtualScroll:se,scrollTo:L,reset:E,refresh:Q}}const Zt=e=>["add","add-unique","toggle"].includes(e),ta=".*+?^${}()|[]\\",la=Object.keys(Ct);var na=ge({name:"QSelect",inheritAttrs:!1,props:J($($($({},Zn),bn),Ct),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Zt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...nl,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:a}){const{proxy:o}=Ce(),{$q:f}=o,u=I(!1),c=I(!1),v=I(-1),d=I(""),y=I(!1),g=I(!1);let V,F,r,_,C,T,O,A,N;const P=I(null),R=I(null),j=I(null),H=I(null),E=I(null),Q=wn(e),L=Cn(zt),X=x(()=>Array.isArray(e.options)?e.options.length:0),te=x(()=>e.virtualScrollItemSize===void 0?e.dense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:me,virtualScrollSliceSizeComputed:fe,localResetVirtualScroll:he,padVirtualScroll:ae,onVirtualScrollEvt:se,reset:ye,scrollTo:ce,setVirtualScrollSize:ie}=ea({virtualScrollLength:X,getVirtualScrollTarget:Ol,getVirtualScrollEl:Ot,virtualScrollItemSizeComputed:te}),s=il(),n=x(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,k=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const S=e.mapOptions===!0&&F!==void 0?F:[],M=k.map(U=>Bl(U,S));return e.modelValue===null&&t===!0?M.filter(U=>U!==null):M}return k}),m=x(()=>{const t={};return la.forEach(k=>{const S=e[k];S!==void 0&&(t[k]=S)}),t}),i=x(()=>e.optionsDark===null?s.isDark.value:e.optionsDark),q=x(()=>jt(n.value)),h=x(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||n.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),b=x(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),B=x(()=>X.value===0),z=x(()=>n.value.map(t=>oe.value(t)).join(", ")),w=x(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),ve=x(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||n.value.some(w.value))),qe=x(()=>s.focused.value===!0?e.tabindex:-1),Z=x(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-owns":`${s.targetUid.value}_lb`,"aria-controls":`${s.targetUid.value}_lb`})),Ee=x(()=>{const t={id:`${s.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return v.value>=0&&(t["aria-activedescendant"]=`${s.targetUid.value}_${v.value}`),t}),Se=x(()=>n.value.map((t,k)=>({index:k,opt:t,html:w.value(t),selected:!0,removeAtIndex:Al,toggleOption:Fe,tabindex:qe.value}))),xe=x(()=>{if(X.value===0)return[];const{from:t,to:k}=me.value;return e.options.slice(t,k).map((S,M)=>{const U=Oe.value(S)===!0,W=t+M,G={clickable:!0,active:!1,activeClass:Y.value,manualFocus:!0,focused:!1,disable:U,tabindex:-1,dense:e.optionsDense,dark:i.value,role:"option",id:`${s.targetUid.value}_${W}`,onClick:()=>{Fe(S)}};return U!==!0&&(dt(S)===!0&&(G.active=!0),v.value===W&&(G.focused=!0),G["aria-selected"]=G.active===!0?"true":"false",f.platform.is.desktop===!0&&(G.onMousemove=()=>{u.value===!0&&He(W)})),{index:W,opt:S,html:w.value(S),label:oe.value(S),selected:G.active,focused:G.focused,toggleOption:Fe,setOptionIndex:He,itemProps:G}})}),be=x(()=>e.dropdownIcon!==void 0?e.dropdownIcon:f.iconSet.arrow.dropdown),K=x(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Y=x(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ee=x(()=>ct(e.optionValue,"value")),oe=x(()=>ct(e.optionLabel,"label")),Oe=x(()=>ct(e.optionDisable,"disable")),Ye=x(()=>n.value.map(t=>ee.value(t))),Pl=x(()=>{const t={onInput:zt,onChange:L,onKeydown:Bt,onKeyup:Pt,onKeypress:At,onFocus:Et,onClick(k){r===!0&&Ie(k)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=L,t});ne(n,t=>{F=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&s.innerLoading.value!==!0&&(c.value!==!0&&u.value!==!0||q.value!==!0)&&(_!==!0&&Re(),(c.value===!0||u.value===!0)&&ze(""))},{immediate:!0}),ne(()=>e.fillInput,Re),ne(u,ft),ne(X,Wl);function Tt(t){return e.emitValue===!0?ee.value(t):t}function st(t){if(t>-1&&t<n.value.length)if(e.multiple===!0){const k=e.modelValue.slice();a("remove",{index:t,value:k.splice(t,1)[0]}),a("update:modelValue",k)}else a("update:modelValue",null)}function Al(t){st(t),s.focus()}function Vt(t,k){const S=Tt(t);if(e.multiple!==!0){e.fillInput===!0&&We(oe.value(t),!0,!0),a("update:modelValue",S);return}if(n.value.length===0){a("add",{index:0,value:S}),a("update:modelValue",e.multiple===!0?[S]:S);return}if(k===!0&&dt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const M=e.modelValue.slice();a("add",{index:M.length,value:S}),M.push(S),a("update:modelValue",M)}function Fe(t,k){if(s.editable.value!==!0||t===void 0||Oe.value(t)===!0)return;const S=ee.value(t);if(e.multiple!==!0){k!==!0&&(We(e.fillInput===!0?oe.value(t):"",!0,!0),Pe()),R.value!==null&&R.value.focus(),(n.value.length===0||Qe(ee.value(n.value[0]),S)!==!0)&&a("update:modelValue",e.emitValue===!0?S:t);return}if((r!==!0||y.value===!0)&&s.focus(),Et(),n.value.length===0){const W=e.emitValue===!0?S:t;a("add",{index:0,value:W}),a("update:modelValue",e.multiple===!0?[W]:W);return}const M=e.modelValue.slice(),U=Ye.value.findIndex(W=>Qe(W,S));if(U>-1)a("remove",{index:U,value:M.splice(U,1)[0]});else{if(e.maxValues!==void 0&&M.length>=e.maxValues)return;const W=e.emitValue===!0?S:t;a("add",{index:M.length,value:W}),M.push(W)}a("update:modelValue",M)}function He(t){if(f.platform.is.desktop!==!0)return;const k=t>-1&&t<X.value?t:-1;v.value!==k&&(v.value=k)}function Ge(t=1,k){if(u.value===!0){let S=v.value;do S=Wt(S+t,-1,X.value-1);while(S!==-1&&S!==v.value&&Oe.value(e.options[S])===!0);v.value!==S&&(He(S),ce(S),k!==!0&&e.useInput===!0&&e.fillInput===!0&&Je(S>=0?oe.value(e.options[S]):T))}}function Bl(t,k){const S=M=>Qe(ee.value(M),t);return e.options.find(S)||k.find(S)||t}function ct(t,k){const S=t!==void 0?t:k;return typeof S=="function"?S:M=>M!==null&&typeof M=="object"&&S in M?M[S]:M}function dt(t){const k=ee.value(t);return Ye.value.find(S=>Qe(S,k))!==void 0}function Et(t){e.useInput===!0&&R.value!==null&&(t===void 0||R.value===t.target&&t.target.value===z.value)&&R.value.select()}function Ft(t){xt(t,27)===!0&&u.value===!0&&(Ie(t),Pe(),Re()),a("keyup",t)}function Pt(t){const{value:k}=t.target;if(t.keyCode!==void 0){Ft(t);return}if(t.target.value="",clearTimeout(V),Re(),typeof k=="string"&&k.length>0){const S=k.toLocaleLowerCase(),M=W=>{const G=e.options.find(ue=>W.value(ue).toLocaleLowerCase()===S);return G===void 0?!1:(n.value.indexOf(G)===-1?Fe(G):Pe(),!0)},U=W=>{M(ee)!==!0&&(M(oe)===!0||W===!0||ze(k,!0,()=>U(!0)))};U()}else s.clearValue(t)}function At(t){a("keypress",t)}function Bt(t){if(a("keydown",t),bl(t)===!0)return;const k=d.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),S=t.shiftKey!==!0&&e.multiple!==!0&&(v.value>-1||k===!0);if(t.keyCode===27){Xe(t);return}if(t.keyCode===9&&S===!1){Le();return}if(t.target===void 0||t.target.id!==s.targetUid.value)return;if(t.keyCode===40&&s.innerLoading.value!==!0&&u.value===!1){de(t),Me();return}if(t.keyCode===8&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?st(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(de(t),v.value=-1,Ge(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&fe.value!==void 0&&(de(t),v.value=Math.max(-1,Math.min(X.value,v.value+(t.keyCode===33?-1:1)*fe.value.view)),Ge(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(de(t),Ge(t.keyCode===38?-1:1,e.multiple));const M=X.value;if((A===void 0||N<Date.now())&&(A=""),M>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||A.length>0)){u.value!==!0&&Me(t);const U=t.key.toLocaleLowerCase(),W=A.length===1&&A[0]===U;N=Date.now()+1500,W===!1&&(de(t),A+=U);const G=new RegExp("^"+A.split("").map(vt=>ta.indexOf(vt)>-1?"\\"+vt:vt).join(".*"),"i");let ue=v.value;if(W===!0||ue<0||G.test(oe.value(e.options[ue]))!==!0)do ue=Wt(ue+1,-1,M-1);while(ue!==v.value&&(Oe.value(e.options[ue])===!0||G.test(oe.value(e.options[ue]))!==!0));v.value!==ue&&we(()=>{He(ue),ce(ue),ue>=0&&e.useInput===!0&&e.fillInput===!0&&Je(oe.value(e.options[ue]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||A!=="")&&(t.keyCode!==9||S===!1))){if(t.keyCode!==9&&de(t),v.value>-1&&v.value<M){Fe(e.options[v.value]);return}if(k===!0){const U=(W,G)=>{if(G){if(Zt(G)!==!0)return}else G=e.newValueMode;if(W==null)return;We("",e.multiple!==!0,!0),(G==="toggle"?Fe:Vt)(W,G==="add-unique"),e.multiple!==!0&&(R.value!==null&&R.value.focus(),Pe())};if(e.onNewValue!==void 0?a("new-value",d.value,U):U(d.value),e.multiple!==!0)return}u.value===!0?Le():s.innerLoading.value!==!0&&Me()}}function Ot(){return r===!0?E.value:j.value!==null&&j.value.__qPortalInnerRef.value!==null?j.value.__qPortalInnerRef.value:void 0}function Ol(){return Ot()}function Hl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Se.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Se.value.map((t,k)=>p(Nn,{key:"option-"+k,removable:s.editable.value===!0&&Oe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:qe.value,onRemove(){t.removeAtIndex(k)}},()=>p("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:oe.value(t.opt)}))):[p("span",{[ve.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:z.value})]}function Ht(){if(B.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:d.value}):void 0;const t=l.option!==void 0?l.option:S=>p(kl,$({key:S.index},S.itemProps),()=>p(wl,()=>p(jn,()=>p("span",{[S.html===!0?"innerHTML":"textContent"]:S.label}))));let k=ae("div",xe.value.map(t));return l["before-options"]!==void 0&&(k=l["before-options"]().concat(k)),qn(l["after-options"],k)}function zl(t,k){const S=k===!0?$($({},Z.value),s.splitAttrs.attributes.value):void 0,M=$(J($({ref:k===!0?R:void 0,key:"i_t",class:h.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search"},S),{id:k===!0?s.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),Pl.value);return t!==!0&&r===!0&&(Array.isArray(M.class)===!0?M.class=[...M.class,"no-pointer-events"]:M.class+=" no-pointer-events"),p("input",M)}function zt(t){clearTimeout(V),!(t&&t.target&&t.target.composing===!0)&&(Je(t.target.value||""),_=!0,T=d.value,s.focused.value!==!0&&(r!==!0||y.value===!0)&&s.focus(),e.onFilter!==void 0&&(V=setTimeout(()=>{ze(d.value)},e.inputDebounce)))}function Je(t){d.value!==t&&(d.value=t,a("input-value",t))}function We(t,k,S){_=S!==!0,e.useInput===!0&&(Je(t),(k===!0||S!==!0)&&(T=t),k!==!0&&ze(t))}function ze(t,k,S){if(e.onFilter===void 0||k!==!0&&s.focused.value!==!0)return;s.innerLoading.value===!0?a("filter-abort"):(s.innerLoading.value=!0,g.value=!0),t!==""&&e.multiple!==!0&&n.value.length>0&&_!==!0&&t===oe.value(n.value[0])&&(t="");const M=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);clearTimeout(C),C=M,a("filter",t,(U,W)=>{(k===!0||s.focused.value===!0)&&C===M&&(clearTimeout(C),typeof U=="function"&&U(),g.value=!1,we(()=>{s.innerLoading.value=!1,s.editable.value===!0&&(k===!0?u.value===!0&&Pe():u.value===!0?ft(!0):u.value=!0),typeof W=="function"&&we(()=>{W(o)}),typeof S=="function"&&we(()=>{S(o)})}))},()=>{s.focused.value===!0&&C===M&&(clearTimeout(C),s.innerLoading.value=!1,g.value=!1),u.value===!0&&(u.value=!1)})}function Ll(){return p(Xn,J($({ref:j,class:b.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&B.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:i.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:K.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},Ee.value),{onScrollPassive:se,onBeforeShow:Mt,onBeforeHide:Ml,onShow:Rl}),Ht)}function Ml(t){Rt(t),Le()}function Rl(){ie()}function Il(t){Ie(t),R.value!==null&&R.value.focus(),y.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function $l(t){Ie(t),we(()=>{y.value=!1})}function Kl(){const t=[p(Kn,J($(J($({class:`col-auto ${s.fieldClass.value}`},m.value),{for:s.targetUid.value,dark:i.value,square:!0,loading:g.value,itemAligned:!1,filled:!0,stackLabel:d.value.length>0}),s.splitAttrs.listeners.value),{onFocus:Il,onBlur:$l}),J($({},l),{rawControl:()=>s.getControl(!0),before:void 0,after:void 0}))];return u.value===!0&&t.push(p("div",J($({ref:E,class:b.value+" scroll",style:e.popupContentStyle},Ee.value),{onClick:Xe,onScrollPassive:se}),Ht())),p(xn,{ref:H,modelValue:c.value,position:e.useInput===!0?"top":void 0,transitionShow:O,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Mt,onBeforeHide:Dl,onHide:Nl,onShow:jl},()=>p("div",{class:"q-select__dialog"+(i.value===!0?" q-select__dialog--dark q-dark":"")+(y.value===!0?" q-select__dialog--focused":"")},t))}function Dl(t){Rt(t),H.value!==null&&H.value.__updateRefocusTarget(s.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),s.focused.value=!1}function Nl(t){Pe(),s.focused.value===!1&&a("blur",t),Re()}function jl(){const t=document.activeElement;(t===null||t.id!==s.targetUid.value)&&R.value!==null&&R.value!==t&&R.value.focus(),ie()}function Le(){c.value!==!0&&(v.value=-1,u.value===!0&&(u.value=!1),s.focused.value===!1&&(clearTimeout(C),C=void 0,s.innerLoading.value===!0&&(a("filter-abort"),s.innerLoading.value=!1,g.value=!1)))}function Me(t){s.editable.value===!0&&(r===!0?(s.onControlFocusin(t),c.value=!0,we(()=>{s.focus()})):s.focus(),e.onFilter!==void 0?ze(d.value):(B.value!==!0||l["no-option"]!==void 0)&&(u.value=!0))}function Pe(){c.value=!1,Le()}function Re(){e.useInput===!0&&We(e.multiple!==!0&&e.fillInput===!0&&n.value.length>0&&oe.value(n.value[0])||"",!0,!0)}function ft(t){let k=-1;if(t===!0){if(n.value.length>0){const S=ee.value(n.value[0]);k=e.options.findIndex(M=>Qe(ee.value(M),S))}he(k)}He(k)}function Wl(){u.value===!0&&s.innerLoading.value===!1&&(ye(),we(()=>{u.value===!0&&s.innerLoading.value===!1&&ft(!0)}))}function Lt(){c.value===!1&&j.value!==null&&j.value.updatePosition()}function Mt(t){t!==void 0&&Ie(t),a("popup-show",t),s.hasPopupOpen=!0,s.onControlFocusin(t)}function Rt(t){t!==void 0&&Ie(t),a("popup-hide",t),s.hasPopupOpen=!1,s.onControlFocusout(t)}function It(){r=f.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||B.value===!1:!0),O=f.platform.is.ios===!0&&r===!0&&e.useInput===!0?"fade":e.transitionShow}return Sl(It),kn(Lt),It(),Ve(()=>{clearTimeout(V)}),Object.assign(o,{showPopup:Me,hidePopup:Pe,removeAtIndex:st,add:Vt,toggleOption:Fe,getOptionIndex:()=>v.value,setOptionIndex:He,moveOptionSelection:Ge,filter:ze,updateMenuPosition:Lt,updateInputValue:We,isOptionSelected:dt,getEmittingOptionValue:Tt,isOptionDisabled:(...t)=>Oe.value.apply(null,t)===!0,getOptionValue:(...t)=>ee.value.apply(null,t),getOptionLabel:(...t)=>oe.value.apply(null,t)}),Object.assign(s,{innerValue:n,fieldClass:x(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:P,targetRef:R,hasValue:q,showPopup:Me,floatingLabel:x(()=>(e.hideSelected===!0?d.value.length>0:q.value===!0)||jt(e.displayValue)),getControlChild:()=>{if(s.editable.value!==!1&&(c.value===!0||B.value!==!0||l["no-option"]!==void 0))return r===!0?Kl():Ll();s.hasPopupOpen===!0&&(s.hasPopupOpen=!1)},controlEvents:{onFocusin(t){s.onControlFocusin(t)},onFocusout(t){s.onControlFocusout(t,()=>{Re(),Le()})},onClick(t){if(Xe(t),r!==!0&&u.value===!0){Le(),R.value!==null&&R.value.focus();return}Me(t)}},getControl:t=>{const k=Hl(),S=t===!0||c.value!==!0||r!==!0;if(e.useInput===!0)k.push(zl(t,S));else if(s.editable.value===!0){const U=S===!0?Z.value:void 0;k.push(p("input",J($({ref:S===!0?R:void 0,key:"d_t",class:"q-select__focus-target",id:S===!0?s.targetUid.value:void 0,readonly:!0},U),{onKeydown:Bt,onKeyup:Ft,onKeypress:At}))),S===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&k.push(p("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Pt}))}if(Q.value!==void 0&&e.disable!==!0&&Ye.value.length>0){const U=Ye.value.map(W=>p("option",{value:W,selected:!0}));k.push(p("select",{class:"hidden",name:Q.value,multiple:e.multiple},U))}const M=e.useInput===!0||S!==!0?void 0:s.splitAttrs.attributes.value;return p("div",$({class:"q-field__native row items-center"},M),k)},getInnerAppend:()=>e.loading!==!0&&g.value!==!0&&e.hideDropdownIcon!==!0?[p(De,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:be.value})]:null}),al(s)}}),el=ge({name:"QTooltip",inheritAttrs:!1,props:J($($($({},xl),ol),ul),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:at},self:{type:String,default:"top middle",validator:at},offset:{type:Array,default:()=>[14,14],validator:Tl},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...rl],setup(e,{slots:l,emit:a,attrs:o}){let f,u;const c=Ce(),{proxy:{$q:v}}=c,d=I(null),y=I(!1),g=x(()=>it(e.anchor,v.lang.rtl)),V=x(()=>it(e.self,v.lang.rtl)),F=x(()=>e.persistent!==!0),{registerTick:r,removeTick:_}=sl(),{registerTimeout:C,removeTimeout:T}=cl(),{transition:O,transitionStyle:A}=dl(e,y),{localScrollTarget:N,changeScrollEvent:P,unconfigureScrollTarget:R}=ql(e,s),{anchorEl:j,canShow:H,anchorEvents:E}=Cl({showing:y,configureAnchorEl:ie}),{show:Q,hide:L}=fl({showing:y,canShow:H,handleShow:fe,handleHide:he,hideOnRouteChange:F,processOnMount:!0});Object.assign(E,{delayShow:ye,delayHide:ce});const{showPortal:X,hidePortal:te,renderPortal:me}=vl(c,d,m);if(v.platform.is.mobile===!0){const i={anchorEl:j,innerRef:d,onClickOutside(h){return L(h),h.target.classList.contains("q-dialog__backdrop")&&de(h),!0}},q=x(()=>e.modelValue===null&&e.persistent!==!0&&y.value===!0);ne(q,h=>{(h===!0?_l:nt)(i)}),Ve(()=>{nt(i)})}function fe(i){_(),T(),X(),r(()=>{u=new MutationObserver(()=>se()),u.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),se(),s()}),f===void 0&&(f=ne(()=>v.screen.width+"|"+v.screen.height+"|"+e.self+"|"+e.anchor+"|"+v.lang.rtl,se)),C(()=>{X(!0),a("show",i)},e.transitionDuration)}function he(i){_(),T(),te(),ae(),C(()=>{te(!0),a("hide",i)},e.transitionDuration)}function ae(){u!==void 0&&(u.disconnect(),u=void 0),f!==void 0&&(f(),f=void 0),R(),yt(E,"tooltipTemp")}function se(){const i=d.value;j.value===null||!i||Vl({el:i,offset:e.offset,anchorEl:j.value,anchorOrigin:g.value,selfOrigin:V.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ye(i){if(v.platform.is.mobile===!0){wt(),document.body.classList.add("non-selectable");const q=j.value,h=["touchmove","touchcancel","touchend","click"].map(b=>[q,b,"delayHide","passiveCapture"]);et(E,"tooltipTemp",h)}C(()=>{Q(i)},e.delay)}function ce(i){T(),v.platform.is.mobile===!0&&(yt(E,"tooltipTemp"),wt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),C(()=>{L(i)},e.hideDelay)}function ie(){if(e.noParentEvent===!0||j.value===null)return;const i=v.platform.is.mobile===!0?[[j.value,"touchstart","delayShow","passive"]]:[[j.value,"mouseenter","delayShow","passive"],[j.value,"mouseleave","delayHide","passive"]];et(E,"anchor",i)}function s(){if(j.value!==null||e.scrollTarget!==void 0){N.value=ml(j.value,e.scrollTarget);const i=e.noParentEvent===!0?se:L;P(N.value,i)}}function n(){return y.value===!0?p("div",J($({},o),{ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,A.value],role:"complementary"}),je(l.default)):null}function m(){return p(pt,{name:O.value,appear:!0},n)}return Ve(ae),Object.assign(c.proxy,{updatePosition:se}),me}}),aa=ge({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:a}}=Ce(),o=bt(pn);bt(_n,()=>{console.error("QPage needs to be child of QPageContainer")});const f=x(()=>{const c=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const v=o.isContainer.value===!0?o.containerHeight.value:a.screen.height;return e.styleFn(c,v)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-c+"px":a.screen.height===0?c!==0?`calc(100vh - ${c}px)`:"100vh":a.screen.height-c+"px"}}),u=x(()=>`q-page ${e.padding===!0?" q-layout-padding":""}`);return()=>p("main",{class:u.value,style:f.value},je(l.default))}});async function tl(e,l){const a=await(await e.getFile()).stream(),o=await l.createWritable();await o.truncate(0),await a.pipeTo(o)}var ia=ge({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:l,emit:a}){const o=Ce(),f=I(null);let u=0;const c=[];function v(r){const _=[],C=typeof r=="boolean"?r:e.noErrorFocus!==!0,T=++u,O=(A,N)=>{a("validation-"+(A===!0?"success":"error"),N)};for(let A=0;A<c.length;A++){const N=c[A],P=N.validate();if(typeof P.then=="function")_.push(P.then(R=>({valid:R,comp:N}),R=>({valid:!1,comp:N,err:R})));else if(P!==!0){if(e.greedy===!1)return O(!1,N),C===!0&&typeof N.focus=="function"&&N.focus(),Promise.resolve(!1);_.push({valid:!1,comp:N})}}return _.length===0?(O(!0),Promise.resolve(!0)):Promise.all(_).then(A=>{const N=A.filter(H=>H.valid!==!0);if(N.length===0)return T===u&&O(!0),!0;const{valid:P,comp:R,err:j}=N[0];return T===u&&(j!==void 0&&console.error(j),O(!1,R),C===!0&&P!==!0&&typeof R.focus=="function"&&R.focus()),!1})}function d(){u++,c.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function y(r){r!==void 0&&de(r);const _=u+1;v().then(C=>{_===u&&C===!0&&(e.onSubmit!==void 0?a("submit",r):r!==void 0&&r.target!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function g(r){r!==void 0&&de(r),a("reset"),we(()=>{d(),e.autofocus===!0&&e.noResetFocus!==!0&&V()})}function V(){hl(()=>{if(f.value===null)return;const r=f.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(f.value.querySelectorAll("[tabindex]"),_=>_.tabIndex>-1);r!=null&&r.focus({preventScroll:!0})})}Tn(Vn,{bindComponent(r){c.push(r)},unbindComponent(r){const _=c.indexOf(r);_>-1&&c.splice(_,1)}});let F=!1;return gl(()=>{F=!0}),yl(()=>{F===!0&&e.autofocus===!0&&V()}),qt(()=>{e.autofocus===!0&&V()}),Object.assign(o.proxy,{validate:v,resetValidation:d,submit:y,reset:g,focus:V,getValidationComponents:()=>c}),()=>p("form",{class:"q-form",ref:f,onSubmit:y,onReset:g},je(l.default))}}),oa=ge({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:a}){let o=!1,f,u,c,v,d,y;function g(){f&&f(),f=null,o=!1,clearTimeout(c),clearTimeout(v),u!==void 0&&u.removeEventListener("transitionend",d),d=null}function V(C,T,O){C.style.overflowY="hidden",T!==void 0&&(C.style.height=`${T}px`),C.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,f=O}function F(C,T){C.style.overflowY=null,C.style.height=null,C.style.transition=null,g(),T!==y&&a(T)}function r(C,T){let O=0;u=C,o===!0?(g(),O=C.offsetHeight===C.scrollHeight?0:void 0):y="hide",V(C,O,T),c=setTimeout(()=>{C.style.height=`${C.scrollHeight}px`,d=A=>{(Object(A)!==A||A.target===C)&&F(C,"show")},C.addEventListener("transitionend",d),v=setTimeout(d,e.duration*1.1)},100)}function _(C,T){let O;u=C,o===!0?g():(y="show",O=C.scrollHeight),V(C,O,T),c=setTimeout(()=>{C.style.height=0,d=A=>{(Object(A)!==A||A.target===C)&&F(C,"hide")},C.addEventListener("transitionend",d),v=setTimeout(d,e.duration*1.1)},100)}return Ve(()=>{o===!0&&g()}),()=>p(pt,{css:!1,appear:e.appear,onEnter:r,onLeave:_},l.default)}});const ua=["none","strict","leaf","leaf-filtered"];var ra=ge({name:"QTree",props:J($({},ut),{nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>ua.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noNodesLabel:String,noResultsLabel:String}),emits:["update:expanded","update:ticked","update:selected","lazy-load","after-show","after-hide"],setup(e,{slots:l,emit:a}){const{proxy:o}=Ce(),{$q:f}=o,u=rt(e,f),c=I({}),v=I(e.ticked||[]),d=I(e.expanded||[]);let y={};Sl(()=>{y={}});const g=x(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(u.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),V=x(()=>e.selected!==void 0),F=x(()=>e.icon||f.iconSet.tree.icon),r=x(()=>e.controlColor||e.color),_=x(()=>e.textColor!==void 0?` text-${e.textColor}`:""),C=x(()=>{const n=e.selectedColor||e.color;return n?` text-${n}`:""}),T=x(()=>e.filterMethod!==void 0?e.filterMethod:(n,m)=>{const i=m.toLowerCase();return n[e.labelKey]&&n[e.labelKey].toLowerCase().indexOf(i)>-1}),O=x(()=>{const n={},m=(i,q)=>{const h=i.tickStrategy||(q?q.tickStrategy:e.tickStrategy),b=i[e.nodeKey],B=i[e.childrenKey]&&i[e.childrenKey].length>0,z=B!==!0,w=i.disabled!==!0&&V.value===!0&&i.selectable!==!1,ve=i.disabled!==!0&&i.expandable!==!1,qe=h!=="none",Z=h==="strict",Ee=h==="leaf-filtered",Se=h==="leaf"||h==="leaf-filtered";let xe=i.disabled!==!0&&i.tickable!==!1;Se===!0&&xe===!0&&q&&q.tickable!==!0&&(xe=!1);let be=i.lazy;be===!0&&c.value[b]!==void 0&&Array.isArray(i[e.childrenKey])===!0&&(be=c.value[b]);const K={key:b,parent:q,isParent:B,isLeaf:z,lazy:be,disabled:i.disabled,link:i.disabled!==!0&&(w===!0||ve===!0&&(B===!0||be===!0)),children:[],matchesFilter:e.filter?T.value(i,e.filter):!0,selected:b===e.selected&&w===!0,selectable:w,expanded:B===!0?d.value.includes(b):!1,expandable:ve,noTick:i.noTick===!0||Z!==!0&&be&&be!=="loaded",tickable:xe,tickStrategy:h,hasTicking:qe,strictTicking:Z,leafFilteredTicking:Ee,leafTicking:Se,ticked:Z===!0||z===!0?v.value.includes(b):!1};if(n[b]=K,B===!0&&(K.children=i[e.childrenKey].map(Y=>m(Y,K)),e.filter&&(K.matchesFilter!==!0?K.matchesFilter=K.children.some(Y=>Y.matchesFilter):K.noTick!==!0&&K.disabled!==!0&&K.tickable===!0&&Ee===!0&&K.children.every(Y=>Y.matchesFilter!==!0||Y.noTick===!0||Y.tickable!==!0)===!0&&(K.tickable=!1)),K.matchesFilter===!0&&(K.noTick!==!0&&Z!==!0&&K.children.every(Y=>Y.noTick)===!0&&(K.noTick=!0),Se))){if(K.ticked=!1,K.indeterminate=K.children.some(Y=>Y.indeterminate===!0),K.tickable=K.tickable===!0&&K.children.some(Y=>Y.tickable),K.indeterminate!==!0){const Y=K.children.reduce((ee,oe)=>oe.ticked===!0?ee+1:ee,0);Y===K.children.length?K.ticked=!0:Y>0&&(K.indeterminate=!0)}K.indeterminate===!0&&(K.indeterminateNextState=K.children.every(Y=>Y.tickable!==!0||Y.ticked!==!0))}return K};return e.nodes.forEach(i=>m(i,null)),n});ne(()=>e.ticked,n=>{v.value=n}),ne(()=>e.expanded,n=>{d.value=n});function A(n){const m=[].reduce,i=(q,h)=>{if(q||!h)return q;if(Array.isArray(h)===!0)return m.call(Object(h),i,q);if(h[e.nodeKey]===n)return h;if(h[e.childrenKey])return i(null,h[e.childrenKey])};return i(null,e.nodes)}function N(){return v.value.map(n=>A(n))}function P(){return d.value.map(n=>A(n))}function R(n){return n&&O.value[n]?O.value[n].expanded:!1}function j(){e.expanded!==void 0?a("update:expanded",[]):d.value=[]}function H(){const n=d.value,m=i=>{i[e.childrenKey]&&i[e.childrenKey].length>0&&i.expandable!==!1&&i.disabled!==!0&&(n.push(i[e.nodeKey]),i[e.childrenKey].forEach(m))};e.nodes.forEach(m),e.expanded!==void 0?a("update:expanded",n):d.value=n}function E(n,m,i=A(n),q=O.value[n]){if(q.lazy&&q.lazy!=="loaded"){if(q.lazy==="loading")return;c.value[n]="loading",Array.isArray(i[e.childrenKey])!==!0&&(i[e.childrenKey]=[]),a("lazy-load",{node:i,key:n,done:h=>{c.value[n]="loaded",i[e.childrenKey]=Array.isArray(h)===!0?h:[],we(()=>{const b=O.value[n];b&&b.isParent===!0&&Q(n,!0)})},fail:()=>{delete c.value[n],i[e.childrenKey].length===0&&delete i[e.childrenKey]}})}else q.isParent===!0&&q.expandable===!0&&Q(n,m)}function Q(n,m){let i=d.value;const q=e.expanded!==void 0;if(q===!0&&(i=i.slice()),m){if(e.accordion&&O.value[n]){const h=[];O.value[n].parent?O.value[n].parent.children.forEach(b=>{b.key!==n&&b.expandable===!0&&h.push(b.key)}):e.nodes.forEach(b=>{const B=b[e.nodeKey];B!==n&&h.push(B)}),h.length>0&&(i=i.filter(b=>h.includes(b)===!1))}i=i.concat([n]).filter((h,b,B)=>B.indexOf(h)===b)}else i=i.filter(h=>h!==n);q===!0?a("update:expanded",i):d.value=i}function L(n){return n&&O.value[n]?O.value[n].ticked:!1}function X(n,m){let i=v.value;const q=e.ticked!==void 0;q===!0&&(i=i.slice()),m?i=i.concat(n).filter((h,b,B)=>B.indexOf(h)===b):i=i.filter(h=>n.includes(h)===!1),q===!0&&a("update:ticked",i)}function te(n,m,i){const q={tree:o,node:n,key:i,color:e.color,dark:u.value};return Qt(q,"expanded",()=>m.expanded,h=>{h!==m.expanded&&E(i,h)}),Qt(q,"ticked",()=>m.ticked,h=>{h!==m.ticked&&X([i],h)}),q}function me(n){return(e.filter?n.filter(m=>O.value[m[e.nodeKey]].matchesFilter):n).map(m=>se(m))}function fe(n){if(n.icon!==void 0)return p(De,{class:"q-tree__icon q-mr-sm",name:n.icon,color:n.iconColor});const m=n.img||n.avatar;if(m)return p("img",{class:`q-tree__${n.img?"img":"avatar"} q-mr-sm`,src:m})}function he(){a("after-show")}function ae(){a("after-hide")}function se(n){const m=n[e.nodeKey],i=O.value[m],q=n.header&&l[`header-${n.header}`]||l["default-header"],h=i.isParent===!0?me(n[e.childrenKey]):[],b=h.length>0||i.lazy&&i.lazy!=="loaded";let B=n.body&&l[`body-${n.body}`]||l["default-body"];const z=q!==void 0||B!==void 0?te(n,i,m):null;return B!==void 0&&(B=p("div",{class:"q-tree__node-body relative-position"},[p("div",{class:_.value},[B(z)])])),p("div",{key:m,class:`q-tree__node relative-position q-tree__node--${b===!0?"parent":"child"}`},[p("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(i.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(i.selected===!0?" q-tree__node--selected":"")+(i.disabled===!0?" q-tree__node--disabled":""),tabindex:i.link===!0?0:-1,onClick:w=>{ce(n,i,w)},onKeypress(w){bl(w)!==!0&&(w.keyCode===13?ce(n,i,w,!0):w.keyCode===32&&ie(n,i,w,!0))}},[p("div",{class:"q-focus-helper",tabindex:-1,ref:w=>{y[i.key]=w}}),i.lazy==="loading"?p(En,{class:"q-tree__spinner",color:r.value}):b===!0?p(De,{class:"q-tree__arrow"+(i.expanded===!0?" q-tree__arrow--rotate":""),name:F.value,onClick(w){ie(n,i,w)}}):null,i.hasTicking===!0&&i.noTick!==!0?p(Fn,{class:"q-tree__tickbox",modelValue:i.indeterminate===!0?null:i.ticked,color:r.value,dark:u.value,dense:!0,keepColor:!0,disable:i.tickable!==!0,onKeydown:de,"onUpdate:modelValue":w=>{s(i,w)}}):null,p("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(i.selected===!0?C.value:_.value)},[q?q(z):[fe(n),p("div",n[e.labelKey])]])]),b===!0?p(oa,{duration:e.duration,onShow:he,onHide:ae},()=>Pn(p("div",{class:"q-tree__node-collapsible"+_.value,key:`${m}__q`},[B,p("div",{class:"q-tree__children"+(i.disabled===!0?" q-tree__node--disabled":"")},h)]),[[An,i.expanded]])):B])}function ye(n){const m=y[n];m&&m.focus()}function ce(n,m,i,q){q!==!0&&ye(m.key),V.value&&m.selectable?e.noSelectionUnset===!1?a("update:selected",m.key!==e.selected?m.key:null):m.key!==e.selected&&a("update:selected",m.key||null):ie(n,m,i,q),typeof n.handler=="function"&&n.handler(n)}function ie(n,m,i,q){i!==void 0&&de(i),q!==!0&&ye(m.key),E(m.key,!m.expanded,n,m)}function s(n,m){if(n.indeterminate===!0&&(m=n.indeterminateNextState),n.strictTicking)X([n.key],m);else if(n.leafTicking){const i=[],q=h=>{h.isParent?(m!==!0&&h.noTick!==!0&&h.tickable===!0&&i.push(h.key),h.leafTicking===!0&&h.children.forEach(q)):h.noTick!==!0&&h.tickable===!0&&(h.leafFilteredTicking!==!0||h.matchesFilter===!0)&&i.push(h.key)};q(n),X(i,m)}}return Object.assign(o,{getNodeByKey:A,getTickedNodes:N,getExpandedNodes:P,isExpanded:R,collapseAll:j,expandAll:H,setExpanded:E,isTicked:L,setTicked:X}),e.defaultExpandAll===!0&&H(),()=>{const n=me(e.nodes);return p("div",{class:g.value},n.length===0?e.filter?e.noResultsLabel||f.lang.tree.noResults:e.noNodesLabel||f.lang.tree.noNodes:n)}}});function sa(){return bt(Bn)}function ca(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var l;return new Promise(function(a){var o=function(){return indexedDB.databases().finally(a)};l=setInterval(o,100),o()}).finally(function(){return clearInterval(l)})}function _t(e){return new Promise((l,a)=>{e.oncomplete=e.onsuccess=()=>l(e.result),e.onabort=e.onerror=()=>a(e.error)})}function da(e,l){const a=ca().then(()=>{const o=indexedDB.open(e);return o.onupgradeneeded=()=>o.result.createObjectStore(l),_t(o)});return(o,f)=>a.then(u=>f(u.transaction(l,o).objectStore(l)))}let gt;function Fl(){return gt||(gt=da("keyval-store","keyval")),gt}function ll(e,l=Fl()){return l("readonly",a=>_t(a.get(e)))}function Ze(e,l,a=Fl()){return a("readwrite",o=>(o.put(l,e),_t(o.transaction)))}const fa={key:0,class:"row items-center justify-center full-width"},va={key:0,class:"row justify-center full-width"},ma={class:"col-3 column items-evenly q-px-md q-gutter-md"},ha={class:"col-3 q-pl-md"},ga={class:"full-width row justify-between items-center"},ya={key:1},Sa={key:1},ba={class:"row items-center justify-around q-pt-md"},wa=["src"],ka={name:"IndexPage"},pa=On(J($({},ka),{setup(e){const{t:l}=$n(),a=sa();let o=I(window.showDirectoryPicker!==void 0&&window.showOpenFilePicker!==void 0),f=[{name:"Vivaldi",image:"https://vivaldi.com/wp-content/themes/vivaldicom-theme/img/press/icons/viv_icon.png"},{name:"Chrome",image:"https://www.google.com/chrome/static/images/chrome-logo.svg"},{name:"Edge",image:"https://edgefrecdn.azureedge.net/welcome/sitecdn/img/icon-shadow.9976a83.png"}],u=I(""),c=I(""),v=I(void 0),d=I(void 0),y=I(),g=I();qt(async()=>{let H=await ll("savesFolder");H!==void 0&&(v.value=H,await A());let E=await ll("originalSave");E!==void 0&&(d.value=E)});let V=(H,E)=>{E(()=>{const Q=H.toLocaleLowerCase();r.value=F.value.map(L=>L.label).filter(L=>L.toLocaleLowerCase().indexOf(Q)>-1)})},F=I([]),r=I([]),_=async()=>{v.value=await window.showDirectoryPicker(),await A(),await Ze("savesFolder",v.value),await C(),u.value="",c.value=""},C=async()=>{F.value.length=0;for await(const H of v.value.values())if(H.kind==="directory"){let E={label:H.name,children:[]};for await(const Q of H.values())Q.kind==="file"&&E.children.push({label:Q.name,father:H.name});F.value.push(E)}r.value=F.value.map(H=>H.label),g.value.expandAll()},T=async H=>{H.father===void 0?await v.value.removeEntry(H.label,{recursive:!0}):await(await v.value.getDirectoryHandle(H.father)).removeEntry(H.label),await C()},O=async()=>new Promise(async(H,E)=>{let Q=await d.value.queryPermission({mode:"readwrite"});if(Q==="prompt")a.dialog({title:l("requestPermission.originalSave.title"),message:l("requestPermission.originalSave.message",[d.value.name]),persistent:!0,ok:{label:l("requestPermission.originalSave.ok.title"),color:"primary"},cancel:{label:l("requestPermission.originalSave.cancel.title"),outline:!0}}).onOk(async()=>(await d.value.requestPermission({mode:"readwrite"}),await Ze("originalSave",d.value),H())).onCancel(()=>(d.value=void 0,E()));else return Q==="granted"?H():E()}),A=async()=>new Promise(async(H,E)=>{let Q=await v.value.queryPermission({mode:"readwrite"});if(Q==="prompt")a.dialog({title:l("requestPermission.savesFolder.title"),message:l("requestPermission.savesFolder.message",[v.value.name]),persistent:!0,ok:{label:l("requestPermission.savesFolder.ok.title"),color:"primary"},cancel:{label:l("requestPermission.savesFolder.cancel.title"),outline:!0}}).onOk(async()=>(await v.value.requestPermission({mode:"readwrite"}),await Ze("savesFolder",v.value),await C(),H())).onCancel(()=>(v.value=void 0,E()));else return Q==="granted"?H():E()}),N=async()=>{let[H]=await window.showOpenFilePicker({multiple:!1,excludeAcceptAllOption:!0,types:[{accept:{"application/octet-stream":[".sl2"]},description:l("eldenRingSave")}]});d.value=H,await Ze("originalSave",d.value)},P=async()=>{if(u.value===""||c.value==="")return;d.value===void 0?await N():await O();const E=await(await v.value.getDirectoryHandle(u.value,{create:!0})).getFileHandle(`${c.value} - ${d.value.name}`,{create:!0});await tl(d.value,E),await C(),y.value.reset()},R=()=>{c.value="",u.value=""},j=async H=>{a.dialog({title:l("requestPermission.loadSaveDialog.title"),message:l("requestPermission.loadSaveDialog.message",[v.value.name]),persistent:!0,ok:{label:l("requestPermission.loadSaveDialog.ok.title"),color:"primary"},cancel:{label:l("requestPermission.loadSaveDialog.cancel.title"),outline:!0}}).onOk(async()=>{let Q=await(await v.value.getDirectoryHandle(H.father)).getFileHandle(H.label);await tl(Q,d.value)})};return(H,E)=>(_e(),Ut(aa,{class:"row items-center justify-evenly"},{default:re(()=>{var Q;return[D(o)===!0?(_e(),$e("div",fa,[D(v)!==void 0?(_e(),$e("div",va,[Ae("div",ma,[le(mt,{"model-value":D(v).name,readonly:"",label:D(l)("saveFolder")},{after:re(()=>[le(Ke,{onClick:E[0]||(E[0]=L=>D(_)()),outline:""},{default:re(()=>[Te(pe(D(l)("change")),1)]),_:1})]),_:1},8,["model-value","label"]),le(mt,{"model-value":(Q=D(d))==null?void 0:Q.name,readonly:"",class:"q-mb-lg",label:D(l)("eldenRingSave")},{after:re(()=>[le(Ke,{onClick:E[1]||(E[1]=L=>D(N)()),outline:""},{default:re(()=>[Te(pe(D(l)("change")),1)]),_:1})]),_:1},8,["model-value","label"]),le(D(ia),{ref_key:"saveForm",ref:y,onSubmit:E[4]||(E[4]=L=>D(P)()),onReset:E[5]||(E[5]=L=>D(R)())},{default:re(()=>[le(na,{"model-value":D(u),"use-input":"","hide-selected":"","fill-input":"",label:D(l)("folderName"),"input-debounce":"0",options:D(r),onInputValue:E[2]||(E[2]=L=>Xt(u)?u.value=L:u=L),onFilter:D(V),rules:[L=>L&&L.length>0||D(l)("validate.folderName")]},{"no-option":re(()=>[le(kl,null,{default:re(()=>[le(wl,{class:"text-italic"},{default:re(()=>[Te(pe(D(l)("emptyFolders")),1)]),_:1})]),_:1})]),_:1},8,["model-value","label","options","onFilter","rules"]),le(mt,{modelValue:D(c),"onUpdate:modelValue":E[3]||(E[3]=L=>Xt(c)?c.value=L:c=L),label:D(l)("saveName"),clearable:"",rules:[L=>L&&L.length>0||D(l)("validate.saveName")]},null,8,["modelValue","label","rules"]),le(Ke,{type:"submit",color:"primary",label:D(l)("saveBackup")},null,8,["label"])]),_:1},512)]),le(Hn,{vertical:""}),Ae("div",ha,[le(D(ra),{ref_key:"savesTree",ref:g,nodes:D(F),"node-key":"label","no-connectors":"","no-nodes-label":D(l)("emptyStructure"),"default-expand-all":""},{"default-header":re(({key:L,node:X})=>[Ae("div",ga,[Ae("span",null,pe(L),1),Ae("div",null,[X.father!==void 0?(_e(),Ut(Ke,{key:0,onClick:te=>D(j)(X),class:"q-mr-sm",icon:D(zn),outline:"",color:"primary",padding:"sm"},{default:re(()=>[le(el,null,{default:re(()=>[Te(pe(D(l)("loadSave")),1)]),_:1})]),_:2},1032,["onClick","icon"])):Ln("",!0),le(Ke,{onClick:te=>D(T)(X),icon:D(Mn),outline:"",padding:"sm"},{default:re(()=>[le(el,null,{default:re(()=>[Te(pe(D(l)("deleteSave")),1)]),_:1})]),_:2},1032,["onClick","icon"])])])]),_:1},8,["nodes","no-nodes-label"])])])):(_e(),$e("div",ya,[le(Ke,{onClick:E[6]||(E[6]=L=>D(_)()),outline:""},{default:re(()=>[Te(pe(D(l)("selectSaveFolder")),1)]),_:1})]))])):(_e(),$e("div",Sa,[Te(pe(D(l)("incompatibleBrowser"))+" ",1),Ae("div",ba,[(_e(!0),$e(Rn,null,In(D(f),L=>(_e(),$e("div",{class:"column items-center justify-center",key:L.name},[Ae("img",{src:L.image,width:"50"},null,8,wa),Te(" "+pe(L.name),1)]))),128))])]))]}),_:1}))}}));export{pa as default};
